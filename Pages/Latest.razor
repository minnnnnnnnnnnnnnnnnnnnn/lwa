@page "/latest"
@inject HttpClient Http
@inject NavigationManager N



@code
{
    private Latests[]? l;
    private bool lIsNull = true;

    private int a = 0;
    int i;
    protected override async Task OnInitializedAsync()
    {
        l = await Http.GetFromJsonAsync<Latests[]>("json/latest.json");
        if (l != null)
        {
            lIsNull = false;
        }
    }
    protected override void OnInitialized()
    {
        var uri = N.ToAbsoluteUri(N.Uri);
        var queryStrings = QueryHelpers.ParseQuery(uri.Query);
        if (queryStrings.TryGetValue("no", out var aaa))
        {
            a = aaa == "" ? -1 : Int32.Parse( aaa ) ; 
        }
    }


    public class Latests
    {
        public int No { get; set; } 
        public string Date { get; set; }
        public string Title { get; set; } 
        public C[]? Content { get; set; } 
        public O[]? Orders { get; set; } 
    }
    public class C 
    {
        public string LawLevel { get; set; }
        public string LawName { get; set; }
        public string LawURL { get; set; }
        public string LawCategory { get; set; }
        public string LawModifiedDate { get; set; }
        public string? LawEffectiveDate { get; set; }
        public string? LawEffectiveNote { get; set; }
        public string? LawAbandonNote { get; set; }
        public string LawHasEngVersion { get; set; }
        public string? EngLawName { get; set; }
        public Attachements[]? LawAttachements { get; set; }
        public string LawHistories { get; set; }
        public string? LawForeword { get; set; }
        public A[] LawArticles { get; set; }
    }
    public class A
    {
        public string ArticleType { get; set; }
        public string? ArticleNo { get; set; }
        public string? ArticleContent { get; set; }
        public string Amendment { get; set; } 
        public string? Reason { get; set; } 
    }
    public class Attachements 
    {
        public string FileName { get; set; }
        public string FileURL { get; set; }
    }
    public class O 
    {
        public string FileName { get; set; } 
        public string Main { get; set; } 
        public string FileURL { get; set; } 
    }
}