@page "/laws"
@inject HttpClient Http
@inject NavigationManager N

<div class="bread">
    <span>現在位置：</span>
    <ul>
        <li><a href="">首頁</a></li>
        <li>法規查詢</li>
    </ul>
</div>
<PageTitle>法規查詢 - 臺中市立臺中第一高級中等學校學生自治聯合會法規資料庫</PageTitle>
@if (laws == null)
{
    <p><em>Loading...</em></p>
}
else if ( a == "" || a == null )
{
    @if (b == "" || b == null ) 
    {
        <table class="table">
            <thead>
                <tr>
                    <th>法規列表</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <h3>中央法規</h3>
                    @foreach (var lawc in lc)
                    {
                        <td><a href="@lawc.LawURL" target="_self">@lawc.LawName</a></td>
                    }
                </tr>
                <tr>
                    <h3>行政法規</h3>
                    @foreach (var lawex in lex)
                    {
                            <td><a href="@lawex.LawURL" target="_self">@lawex.LawName</a></td>
                    }
                </tr>
                <tr>
                    <h3>立法法規</h3>
                    @foreach (var lawl in ll)
                    {
                            <td><a href="@lawl.LawURL" target="_self">@lawl.LawName</a></td>
                    }
                </tr>
                <tr>
                    <h3>司法法規</h3>
                    @foreach (var lawj in lj)
                    {
                            <td><a href="@lawj.LawURL" target="_self">@lawj.LawName</a></td>
                    }
                </tr>
                <tr>
                    <h3>選舉法規</h3>
                    @foreach (var lawel in lel)
                    {
                            <td><a href="@lawel.LawURL" target="_self">@lawel.LawName</a></td>
                    }
                </tr>
            </tbody>
        </table>
    }
    else 
    {
        <table class="table">
            <thead>
                <tr>
                    <th>法規列表</th>
                </tr>
            </thead>
            <tbody>
            @if( !b.Contains( ' ' ) ) 
            {
                @foreach (var law in laws[0].Laws)
                {
                    @if( law.LawName.Contains( b ) || law.LawLevel.Contains( b ) || law.LawHistories.Contains( b ) || (law.LawHasEngVersion == "Y" && law.EngLawName.Contains( b ) ) || ( law.LawForeword != "" && law.LawForeword != null && law.LawForeword.Contains(b) ) ) 
                    {
                        <tr>
                            <td>
                                <a href="@law.LawURL" target="_self">
                                    @if( law.LawName.Contains( b ) ) 
                                    {
                                        <span><span class="abandoned">@law.LawAbandonNote</span>@law.LawName.Split(b)[0]<span class="matched">@b</span>@law.LawName.Split(b)[1]</span>
                                    }
                                    else if ((law.LawHasEngVersion == "Y" && law.EngLawName.Contains(b)))
                                    {
                                        <span><span class="abandoned">@law.LawAbandonNote</span>@law.LawName.Split(b)[0]<span class="matched">@b</span>@law.LawName.Split(b)[1]</span>
                                        <small><span>@law.EngLawName.Split(b)[0]<span class="matched">@b</span>@law.EngLawName.Split(b)[1]</span></small>
                                    }
                                    else 
                                    {
                                        <span><span class="abandoned">@law.LawAbandonNote</span>@law.LawName</span>
                                    }
                                    @if (law.LawName.Contains(b)){}else 
                                    if (law.LawLevel.Contains(b))
                                    {
                                        <small><span>位階：@law.LawLevel.Split( b )[0]<span class="matched">@b</span>@law.LawLevel.Split( b )[1]</span></small>
                                    }
                                    else if (law.LawHistories.Contains(b))
                                    {
                                        @for (int i = 0; i < law.LawHistories.Split('.').Length ; i ++ ) 
                                        {
                                            @if( law.LawHistories.Split( '.' )[i].Contains( b ) ) 
                                            {
                                                <span>…@law.LawHistories.Split('.')[i].Split(b)[0]<span class="matched">@b</span>@law.LawHistories.Split('.')[i].Split( b )[1]…</span>
                                            }
                                        }
                                    }
                                    else if ((law.LawForeword != "" && law.LawForeword != null && law.LawForeword.Contains(b)) ) 
                                    {
                                        <span>
                                            @if( law.LawForeword.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < law.LawForeword.IndexOf(b) ; i++)
                                                {
                                                    @law.LawForeword[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = law.LawForeword.IndexOf(b) - 10; i < law.LawForeword.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @law.LawForeword[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                </a>
                            </td>
                        </tr>
                    }
                    else 
                    {
                        bool AttcontainsB = false ; 
                        bool ArtcontainsB = false ; 
                        @foreach (var att in law.LawAttachements)
                        {
                            @if (att.FileName.Contains(b))
                            {
                                AttcontainsB = true ; 
                            }
                        }
                        @foreach (var art in law.LawArticles)
                        {
                            @if (art.ArticleContent.Contains(b) || (art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains(b)))
                            {
                                ArtcontainsB = true ; 
                            }
                        }
                        <a href="@law.LawURL" target="_self">
                            @if( ArtcontainsB || AttcontainsB ) 
                            {
                                <span><span class="abandoned">@law.LawAbandonNote</span>@law.LawName</span>
                            }
                            @if( AttcontainsB ) 
                            {
                                @foreach( var att in law.LawAttachements ) 
                                {
                                    @if( att.FileName.Contains( b ) ) 
                                    {
                                        <small><span>附件：@att.FileName.Split( b )[0]<span class="matched">@b</span>@att.FileName.Split( b )[1]</span></small>
                                    }
                                }
                            }
                            else if( ArtcontainsB ) 
                            {
                                @foreach( var art in law.LawArticles ) 
                                {
                                    @if( art.ArticleContent.Contains( b ) )
                                    {
                                        <span>
                                            @if( art.ArticleContent.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < art.ArticleContent.IndexOf(b) ; i++)
                                                {
                                                    @art.ArticleContent[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = art.ArticleContent.IndexOf(b) - 10; i < art.ArticleContent.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @art.ArticleContent[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                    else if( art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains( b ) ) 
                                    {
                                        <span>
                                            @if( art.ArticleNo.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < art.ArticleNo.IndexOf(b) ; i++)
                                                {
                                                    @art.ArticleNo[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = art.ArticleNo.IndexOf(b) - 10; i < art.ArticleNo.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @art.ArticleNo[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                }
                            }
                        </a>
                    }
                }
            }
            else 
            {
                @foreach( var b in b.Split( ' ' ) ) 
                {
                    @foreach( var law in laws[0].Laws ) 
                    {
                        @if( law.LawName.Contains( b ) || law.LawLevel.Contains( b ) || law.LawHistories.Contains( b ) || (law.LawHasEngVersion == "Y" && law.EngLawName.Contains( b ) ) || ( law.LawForeword != "" && law.LawForeword != null && law.LawForeword.Contains(b) ) ) 
                        {
                            <tr>
                                <td>
                                    <a href="@law.LawURL" target="_self">
                                        @if( law.LawName.Contains( b ) ) 
                                        {
                                            <span><span class="abandoned">@law.LawAbandonNote</span>@law.LawName.Split(b)[0]<span class="matched">@b</span>@law.LawName.Split(b)[1]</span>
                                        }
                                        else if ((law.LawHasEngVersion == "Y" && law.EngLawName.Contains(b)))
                                        {
                                            <span><span class="abandoned">@law.LawAbandonNote</span>@law.LawName.Split(b)[0]<span class="matched">@b</span>@law.LawName.Split(b)[1]</span>
                                            <small><span>@law.EngLawName.Split(b)[0]<span class="matched">@b</span>@law.EngLawName.Split(b)[1]</span></small>
                                        }
                                        else 
                                        {
                                            <span><span class="abandoned">@law.LawAbandonNote</span>@law.LawName</span>
                                        }
                                        @if (law.LawName.Contains(b)){}else 
                                        if (law.LawLevel.Contains(b))
                                        {
                                            <small><span>位階：@law.LawLevel.Split( b )[0]<span class="matched">@b</span>@law.LawLevel.Split( b )[1]</span></small>
                                        }
                                        else if (law.LawHistories.Contains(b))
                                        {
                                            @for (int i = 0; i < law.LawHistories.Split('.').Length ; i ++ ) 
                                            {
                                                @if( law.LawHistories.Split( '.' )[i].Contains( b ) ) 
                                                {
                                                    <span>…@law.LawHistories.Split('.')[i].Split(b)[0]<span class="matched">@b</span>@law.LawHistories.Split('.')[i].Split( b )[1]…</span>
                                                }
                                            }
                                        }
                                        else if ((law.LawForeword != "" && law.LawForeword != null && law.LawForeword.Contains(b)) ) 
                                        {
                                            <span>
                                                @if( law.LawForeword.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < law.LawForeword.IndexOf(b) ; i++)
                                                    {
                                                        @law.LawForeword[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = law.LawForeword.IndexOf(b) - 10; i < law.LawForeword.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @law.LawForeword[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                    </a>
                                </td>
                            </tr>
                        }
                        else 
                        {
                            bool AttcontainsB = false ; 
                            bool ArtcontainsB = false ; 
                            @if( law.LawAttachements.Length != 0 ) 
                            {
                                @foreach (var att in law.LawAttachements)
                                {
                                    @if (att.FileName.Contains(b))
                                    {
                                        AttcontainsB = true ; 
                                    }
                                }
                            }
                            @foreach (var art in law.LawArticles)
                            {
                                @if (art.ArticleContent.Contains(b) || (art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains(b)))
                                {
                                    ArtcontainsB = true ; 
                                }
                            }
                            <a href="@law.LawURL" target="_self">
                                @if( ArtcontainsB || AttcontainsB ) 
                                {
                                    <span><span class="abandoned">@law.LawAbandonNote</span>@law.LawName</span>
                                    <span>@AttcontainsB@ArtcontainsB</span>
                                }
                                @if( AttcontainsB ) 
                                {
                                    @foreach( var att in law.LawAttachements ) 
                                    {
                                        @if( att.FileName.Contains( b ) ) 
                                        {
                                            <small><span>附件：@att.FileName.Split( b )[0]<span class="matched">@b</span>@att.FileName.Split( b )[1]</span></small>
                                        }
                                    }
                                }
                                @if( ArtcontainsB ) 
                                {
                                    @foreach( var art in law.LawArticles ) 
                                    {
                                        @if( art.ArticleContent.Contains( b ) )
                                        {
                                            <span>
                                                @if( art.ArticleContent.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < art.ArticleContent.IndexOf(b) ; i++)
                                                    {
                                                        @art.ArticleContent[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = art.ArticleContent.IndexOf(b) - 10; i < art.ArticleContent.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @art.ArticleContent[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                        else if( art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains( b ) ) 
                                        {
                                            <span>
                                                @if( art.ArticleNo.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < art.ArticleNo.IndexOf(b) ; i++)
                                                    {
                                                        @art.ArticleNo[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = art.ArticleNo.IndexOf(b) - 10; i < art.ArticleNo.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @art.ArticleNo[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                    }
                                }
                            </a>
                        }
                    }
                }
            }
            </tbody>
        </table>
    }
}
else if (a.ToUpper() == "C" && ( b == "" || b == null ) )
{
    <table class="table">
        <thead>
            <tr>
                <th>法規列表</th>
            </tr>
        </thead>
        <tbody>
            <h3>中央法規</h3>
            @foreach (var lawc in lc)
            {
                <tr>
                    <td><a href="@lawc.LawURL" target="_self"><span class="abandoned">@lawc.LawAbandonNote</span>@lawc.LawName</a></td>
                </tr>
            }
        </tbody>
    </table>
}
else if (a.ToUpper() == "EX" && (b == "" || b == null))
{
    <table class="table">
        <thead>
            <tr>
                <th>法規列表</th>
            </tr>
        </thead>
        <tbody>
            <h3>行政法規</h3>
            @foreach (var lawex in lex)
            {
                <tr>
                    <td><a href="@lawex.LawURL" target="_self"><span class="abandoned">@lawex.LawAbandonNote</span>@lawex.LawName</a></td>
                </tr>
            }
        </tbody>
    </table>
}
else if (a.ToUpper() == "L" && (b == "" || b == null))
{
    <table class="table">
        <thead>
            <tr>
                <th>法規列表</th>
            </tr>
        </thead>
        <tbody>
            <h3>立法法規</h3>
            @foreach (var lawl in ll)
            {
                <tr>
                    <td><a href="@lawl.LawURL" target="_self"><span class="abandoned">@lawl.LawAbandonNote</span>@lawl.LawName</a></td>
                </tr>
            }
        </tbody>
    </table>
}
else if (a.ToUpper() == "J" && (b == "" || b == null))
{
    <table class="table">
        <thead>
            <tr>
                <th>法規列表</th>
            </tr>
        </thead>
        <tbody>
            <h3>司法法規</h3>
            @foreach (var lawj in lj)
            {
                <tr>
                    <td><a href="@lawj.LawURL" target="_self"><span class="abandoned">@lawj.LawAbandonNote</span>@lawj.LawName</a></td>
                </tr>
            }
        </tbody>
    </table>
}
else if (a.ToUpper() == "EL" && (b == "" || b == null))
{
    <table class="table">
        <thead>
            <tr>
                <th>法規列表</th>
            </tr>
        </thead>
        <tbody>
            <h3>選舉法規</h3>
            @foreach (var lawel in lel)
            {
                <tr>
                    <td><a href="@lawel.LawURL" target="_self"><span class="abandoned">@lawel.LawAbandonNote</span>@lawel.LawName</a></td>
                </tr>
            }
        </tbody>
    </table>
}
else if (a.ToUpper() == "C" && (b != "" && b != null))
{
    <table class="table">
        <thead>
            <tr>
                <th>法規列表</th>
            </tr>
        </thead>
        <tbody>
            <h3>中央法規</h3>
            @if( !b.Contains( ' ' ) ) 
            {
                @foreach (var lawc in lc)
                {
                    @if( lawc.LawName.Contains( b ) || lawc.LawLevel.Contains( b ) || lawc.LawHistories.Contains( b ) || (lawc.LawHasEngVersion == "Y" && lawc.EngLawName.Contains( b ) ) || ( lawc.LawForeword != "" && lawc.LawForeword != null && lawc.LawForeword.Contains(b) ) ) 
                    {
                        <tr>
                            <td>
                                <a href="@lawc.LawURL" target="_self">
                                    @if( lawc.LawName.Contains( b ) ) 
                                    {
                                        <span><span class="abandoned">@lawc.LawAbandonNote</span>@lawc.LawName.Split(b)[0]<span class="matched">@b</span>@lawc.LawName.Split(b)[1]</span>
                                    }
                                    else if ((lawc.LawHasEngVersion == "Y" && lawc.EngLawName.Contains(b)))
                                    {
                                        <span><span class="abandoned">@lawc.LawAbandonNote</span>@lawc.LawName.Split(b)[0]<span class="matched">@b</span>@lawc.LawName.Split(b)[1]</span>
                                        <small><span>@lawc.EngLawName.Split(b)[0]<span class="matched">@b</span>@lawc.EngLawName.Split(b)[1]</span></small>
                                    }
                                    else 
                                    {
                                        <span><span class="abandoned">@lawc.LawAbandonNote</span>@lawc.LawName</span>
                                    }
                                    @if (lawc.LawName.Contains(b)){}else 
                                    if (lawc.LawLevel.Contains(b))
                                    {
                                        <small><span>位階：@lawc.LawLevel.Split( b )[0]<span class="matched">@b</span>@lawc.LawLevel.Split( b )[1]</span></small>
                                    }
                                    else if (lawc.LawHistories.Contains(b))
                                    {
                                        @for (int i = 0; i < lawc.LawHistories.Split('.').Length ; i ++ ) 
                                        {
                                            @if( lawc.LawHistories.Split( '.' )[i].Contains( b ) ) 
                                            {
                                                <span>…@lawc.LawHistories.Split('.')[i].Split(b)[0]<span class="matched">@b</span>@lawc.LawHistories.Split('.')[i].Split( b )[1]…</span>
                                            }
                                        }
                                    }
                                    else if ((lawc.LawForeword != "" && lawc.LawForeword != null && lawc.LawForeword.Contains(b)) ) 
                                    {
                                        <span>
                                            @if( lawc.LawForeword.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < lawc.LawForeword.IndexOf(b) ; i++)
                                                {
                                                    @lawc.LawForeword[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = lawc.LawForeword.IndexOf(b) - 10; i < lawc.LawForeword.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @lawc.LawForeword[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                </a>
                            </td>
                        </tr>
                    }
                    else 
                    {
                        bool AttcontainsB = false ; 
                        bool ArtcontainsB = false ; 
                        @foreach (var att in lawc.LawAttachements)
                        {
                            @if (att.FileName.Contains(b))
                            {
                                AttcontainsB = true ; 
                            }
                        }
                        @foreach (var art in lawc.LawArticles)
                        {
                            @if (art.ArticleContent.Contains(b) || (art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains(b)))
                            {
                                ArtcontainsB = true ; 
                            }
                        }
                        <a href="@lawc.LawURL" target="_self">
                            @if( ArtcontainsB || AttcontainsB ) 
                            {
                                <span><span class="abandoned">@lawc.LawAbandonNote</span>@lawc.LawName</span>
                            }
                            @if( AttcontainsB ) 
                            {
                                @foreach( var att in lawc.LawAttachements ) 
                                {
                                    @if( att.FileName.Contains( b ) ) 
                                    {
                                        <small><span>附件：@att.FileName.Split( b )[0]<span class="matched">@b</span>@att.FileName.Split( b )[1]</span></small>
                                    }
                                }
                            }
                            else if( ArtcontainsB ) 
                            {
                                @foreach( var art in lawc.LawArticles ) 
                                {
                                    @if( art.ArticleContent.Contains( b ) )
                                    {
                                        <span>
                                            @if( art.ArticleContent.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < art.ArticleContent.IndexOf(b) ; i++)
                                                {
                                                    @art.ArticleContent[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = art.ArticleContent.IndexOf(b) - 10; i < art.ArticleContent.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @art.ArticleContent[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                    else if( art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains( b ) ) 
                                    {
                                        <span>
                                            @if( art.ArticleNo.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < art.ArticleNo.IndexOf(b) ; i++)
                                                {
                                                    @art.ArticleNo[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = art.ArticleNo.IndexOf(b) - 10; i < art.ArticleNo.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @art.ArticleNo[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                }
                            }
                        </a>
                    }
                }
            }
            else 
            {
                @foreach( var b in b.Split( ' ' ) ) 
                {
                    @foreach( var lawc in lc ) 
                    {
                        @if( lawc.LawName.Contains( b ) || lawc.LawLevel.Contains( b ) || lawc.LawHistories.Contains( b ) || (lawc.LawHasEngVersion == "Y" && lawc.EngLawName.Contains( b ) ) || ( lawc.LawForeword != "" && lawc.LawForeword != null && lawc.LawForeword.Contains(b) ) ) 
                        {
                            <tr>
                                <td>
                                    <a href="@lawc.LawURL" target="_self">
                                        @if( lawc.LawName.Contains( b ) ) 
                                        {
                                            <span><span class="abandoned">@lawc.LawAbandonNote</span>@lawc.LawName.Split(b)[0]<span class="matched">@b</span>@lawc.LawName.Split(b)[1]</span>
                                        }
                                        else if ((lawc.LawHasEngVersion == "Y" && lawc.EngLawName.Contains(b)))
                                        {
                                            <span><span class="abandoned">@lawc.LawAbandonNote</span>@lawc.LawName.Split(b)[0]<span class="matched">@b</span>@lawc.LawName.Split(b)[1]</span>
                                            <small><span>@lawc.EngLawName.Split(b)[0]<span class="matched">@b</span>@lawc.EngLawName.Split(b)[1]</span></small>
                                        }
                                        else 
                                        {
                                            <span><span class="abandoned">@lawc.LawAbandonNote</span>@lawc.LawName</span>
                                        }
                                        @if (lawc.LawName.Contains(b)){}else 
                                        if (lawc.LawLevel.Contains(b))
                                        {
                                            <small><span>位階：@lawc.LawLevel.Split( b )[0]<span class="matched">@b</span>@lawc.LawLevel.Split( b )[1]</span></small>
                                        }
                                        else if (lawc.LawHistories.Contains(b))
                                        {
                                            @for (int i = 0; i < lawc.LawHistories.Split('.').Length ; i ++ ) 
                                            {
                                                @if( lawc.LawHistories.Split( '.' )[i].Contains( b ) ) 
                                                {
                                                    <span>…@lawc.LawHistories.Split('.')[i].Split(b)[0]<span class="matched">@b</span>@lawc.LawHistories.Split('.')[i].Split( b )[1]…</span>
                                                }
                                            }
                                        }
                                        else if ((lawc.LawForeword != "" && lawc.LawForeword != null && lawc.LawForeword.Contains(b)) ) 
                                        {
                                            <span>
                                                @if( lawc.LawForeword.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < lawc.LawForeword.IndexOf(b) ; i++)
                                                    {
                                                        @lawc.LawForeword[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = lawc.LawForeword.IndexOf(b) - 10; i < lawc.LawForeword.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @lawc.LawForeword[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                    </a>
                                </td>
                            </tr>
                        }
                        else 
                        {
                            bool AttcontainsB = false ; 
                            bool ArtcontainsB = false ; 
                            @if( lawc.LawAttachements.Length != 0 ) 
                            {
                                @foreach (var att in lawc.LawAttachements)
                                {
                                    @if (att.FileName.Contains(b))
                                    {
                                        AttcontainsB = true ; 
                                    }
                                }
                            }
                            @foreach (var art in lawc.LawArticles)
                            {
                                @if (art.ArticleContent.Contains(b) || (art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains(b)))
                                {
                                    ArtcontainsB = true ; 
                                }
                            }
                            <a href="@lawc.LawURL" target="_self">
                                @if( ArtcontainsB || AttcontainsB ) 
                                {
                                    <span><span class="abandoned">@lawc.LawAbandonNote</span>@lawc.LawName</span>
                                }
                                @if( AttcontainsB ) 
                                {
                                    @foreach( var att in lawc.LawAttachements ) 
                                    {
                                        @if( att.FileName.Contains( b ) ) 
                                        {
                                            <small><span>附件：@att.FileName.Split( b )[0]<span class="matched">@b</span>@att.FileName.Split( b )[1]</span></small>
                                        }
                                    }
                                }
                                else if( ArtcontainsB ) 
                                {
                                    @foreach( var art in lawc.LawArticles ) 
                                    {
                                        @if( art.ArticleContent.Contains( b ) )
                                        {
                                            <span>
                                                @if( art.ArticleContent.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < art.ArticleContent.IndexOf(b) ; i++)
                                                    {
                                                        @art.ArticleContent[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = art.ArticleContent.IndexOf(b) - 10; i < art.ArticleContent.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @art.ArticleContent[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                        else if( art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains( b ) ) 
                                        {
                                            <span>
                                                @if( art.ArticleNo.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < art.ArticleNo.IndexOf(b) ; i++)
                                                    {
                                                        @art.ArticleNo[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = art.ArticleNo.IndexOf(b) - 10; i < art.ArticleNo.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @art.ArticleNo[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                    }
                                }
                            </a>
                        }
                    }
                }
            }
        </tbody>
    </table>
}
else if (a.ToUpper() == "EX" && (b != "" && b != null))
{
    <table class="table">
        <thead>
            <tr>
                <th>法規列表</th>
            </tr>
        </thead>
        <tbody>
            <h3>行政法規</h3>
            @if( !b.Contains( ' ' ) ) 
            {
                @foreach (var lawex in lex)
                {
                    @if( lawex.LawName.Contains( b ) || lawex.LawLevel.Contains( b ) || lawex.LawHistories.Contains( b ) || (lawex.LawHasEngVersion == "Y" && lawex.EngLawName.Contains( b ) ) || ( lawex.LawForeword != "" && lawex.LawForeword != null && lawex.LawForeword.Contains(b) ) ) 
                    {
                        <tr>
                            <td>
                                <a href="@lawex.LawURL" target="_self">
                                    @if( lawex.LawName.Contains( b ) ) 
                                    {
                                        <span><span class="abandoned">@lawex.LawAbandonNote</span>@lawex.LawName.Split(b)[0]<span class="matched">@b</span>@lawex.LawName.Split(b)[1]</span>
                                    }
                                    else if ((lawex.LawHasEngVersion == "Y" && lawex.EngLawName.Contains(b)))
                                    {
                                        <span><span class="abandoned">@lawex.LawAbandonNote</span>@lawex.LawName.Split(b)[0]<span class="matched">@b</span>@lawex.LawName.Split(b)[1]</span>
                                        <small><span>@lawex.EngLawName.Split(b)[0]<span class="matched">@b</span>@lawex.EngLawName.Split(b)[1]</span></small>
                                    }
                                    else 
                                    {
                                        <span><span class="abandoned">@lawex.LawAbandonNote</span>@lawex.LawName</span>
                                    }
                                    @if (lawex.LawName.Contains(b)){}else 
                                    if (lawex.LawLevel.Contains(b))
                                    {
                                        <small><span>位階：@lawex.LawLevel.Split( b )[0]<span class="matched">@b</span>@lawex.LawLevel.Split( b )[1]</span></small>
                                    }
                                    else if (lawex.LawHistories.Contains(b))
                                    {
                                        @for (int i = 0; i < lawex.LawHistories.Split('.').Length ; i ++ ) 
                                        {
                                            @if( lawex.LawHistories.Split( '.' )[i].Contains( b ) ) 
                                            {
                                                <span>…@lawex.LawHistories.Split('.')[i].Split(b)[0]<span class="matched">@b</span>@lawex.LawHistories.Split('.')[i].Split( b )[1]…</span>
                                            }
                                        }
                                    }
                                    else if ((lawex.LawForeword != "" && lawex.LawForeword != null && lawex.LawForeword.Contains(b)) ) 
                                    {
                                        <span>
                                            @if( lawex.LawForeword.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < lawex.LawForeword.IndexOf(b) ; i++)
                                                {
                                                    @lawex.LawForeword[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = lawex.LawForeword.IndexOf(b) - 10; i < lawex.LawForeword.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @lawex.LawForeword[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                </a>
                            </td>
                        </tr>
                    }
                    else 
                    {
                        bool AttcontainsB = false ; 
                        bool ArtcontainsB = false ; 
                        @foreach (var att in lawex.LawAttachements)
                        {
                            @if (att.FileName.Contains(b))
                            {
                                AttcontainsB = true ; 
                            }
                        }
                        @foreach (var art in lawex.LawArticles)
                        {
                            @if (art.ArticleContent.Contains(b) || (art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains(b)))
                            {
                                ArtcontainsB = true ; 
                            }
                        }
                        <a href="@lawex.LawURL" target="_self">
                            @if( ArtcontainsB || AttcontainsB ) 
                            {
                                <span><span class="abandoned">@lawex.LawAbandonNote</span>@lawex.LawName</span>
                            }
                            @if( AttcontainsB ) 
                            {
                                @foreach( var att in lawex.LawAttachements ) 
                                {
                                    @if( att.FileName.Contains( b ) ) 
                                    {
                                        <small><span>附件：@att.FileName.Split( b )[0]<span class="matched">@b</span>@att.FileName.Split( b )[1]</span></small>
                                    }
                                }
                            }
                            else if( ArtcontainsB ) 
                            {
                                @foreach( var art in lawex.LawArticles ) 
                                {
                                    @if( art.ArticleContent.Contains( b ) )
                                    {
                                        <span>
                                            @if( art.ArticleContent.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < art.ArticleContent.IndexOf(b) ; i++)
                                                {
                                                    @art.ArticleContent[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = art.ArticleContent.IndexOf(b) - 10; i < art.ArticleContent.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @art.ArticleContent[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                    else if( art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains( b ) ) 
                                    {
                                        <span>
                                            @if( art.ArticleNo.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < art.ArticleNo.IndexOf(b) ; i++)
                                                {
                                                    @art.ArticleNo[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = art.ArticleNo.IndexOf(b) - 10; i < art.ArticleNo.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @art.ArticleNo[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                }
                            }
                        </a>
                    }
                }
            }
            else 
            {
                @foreach( var b in b.Split( ' ' ) ) 
                {
                    @foreach( var lawex in lex ) 
                    {
                        @if( lawex.LawName.Contains( b ) || lawex.LawLevel.Contains( b ) || lawex.LawHistories.Contains( b ) || (lawex.LawHasEngVersion == "Y" && lawex.EngLawName.Contains( b ) ) || ( lawex.LawForeword != "" && lawex.LawForeword != null && lawex.LawForeword.Contains(b) ) ) 
                        {
                            <tr>
                                <td>
                                    <a href="@lawex.LawURL" target="_self">
                                        @if( lawex.LawName.Contains( b ) ) 
                                        {
                                            <span><span class="abandoned">@lawex.LawAbandonNote</span>@lawex.LawName.Split(b)[0]<span class="matched">@b</span>@lawex.LawName.Split(b)[1]</span>
                                        }
                                        else if ((lawex.LawHasEngVersion == "Y" && lawex.EngLawName.Contains(b)))
                                        {
                                            <span><span class="abandoned">@lawex.LawAbandonNote</span>@lawex.LawName.Split(b)[0]<span class="matched">@b</span>@lawex.LawName.Split(b)[1]</span>
                                            <small><span>@lawex.EngLawName.Split(b)[0]<span class="matched">@b</span>@lawex.EngLawName.Split(b)[1]</span></small>
                                        }
                                        else 
                                        {
                                            <span><span class="abandoned">@lawex.LawAbandonNote</span>@lawex.LawName</span>
                                        }
                                        @if (lawex.LawName.Contains(b)){}else 
                                        if (lawex.LawLevel.Contains(b))
                                        {
                                            <small><span>位階：@lawex.LawLevel.Split( b )[0]<span class="matched">@b</span>@lawex.LawLevel.Split( b )[1]</span></small>
                                        }
                                        else if (lawex.LawHistories.Contains(b))
                                        {
                                            @for (int i = 0; i < lawex.LawHistories.Split('.').Length ; i ++ ) 
                                            {
                                                @if( lawex.LawHistories.Split( '.' )[i].Contains( b ) ) 
                                                {
                                                    <span>…@lawex.LawHistories.Split('.')[i].Split(b)[0]<span class="matched">@b</span>@lawex.LawHistories.Split('.')[i].Split( b )[1]…</span>
                                                }
                                            }
                                        }
                                        else if ((lawex.LawForeword != "" && lawex.LawForeword != null && lawex.LawForeword.Contains(b)) ) 
                                        {
                                            <span>
                                                @if( lawex.LawForeword.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < lawex.LawForeword.IndexOf(b) ; i++)
                                                    {
                                                        @lawex.LawForeword[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = lawex.LawForeword.IndexOf(b) - 10; i < lawex.LawForeword.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @lawex.LawForeword[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                    </a>
                                </td>
                            </tr>
                        }
                        else 
                        {
                            bool AttcontainsB = false ; 
                            bool ArtcontainsB = false ; 
                            @if( lawex.LawAttachements.Length != 0 ) 
                            {
                                @foreach (var att in lawex.LawAttachements)
                                {
                                    @if (att.FileName.Contains(b))
                                    {
                                        AttcontainsB = true ; 
                                    }
                                }
                            }
                            @foreach (var art in lawex.LawArticles)
                            {
                                @if (art.ArticleContent.Contains(b) || (art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains(b)))
                                {
                                    ArtcontainsB = true ; 
                                }
                            }
                            <a href="@lawex.LawURL" target="_self">
                                @if( ArtcontainsB || AttcontainsB ) 
                                {
                                    <span><span class="abandoned">@lawex.LawAbandonNote</span>@lawex.LawName</span>
                                }
                                @if( AttcontainsB ) 
                                {
                                    @foreach( var att in lawex.LawAttachements ) 
                                    {
                                        @if( att.FileName.Contains( b ) ) 
                                        {
                                            <small><span>附件：@att.FileName.Split( b )[0]<span class="matched">@b</span>@att.FileName.Split( b )[1]</span></small>
                                        }
                                    }
                                }
                                else if( ArtcontainsB ) 
                                {
                                    @foreach( var art in lawex.LawArticles ) 
                                    {
                                        @if( art.ArticleContent.Contains( b ) )
                                        {
                                            <span>
                                                @if( art.ArticleContent.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < art.ArticleContent.IndexOf(b) ; i++)
                                                    {
                                                        @art.ArticleContent[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = art.ArticleContent.IndexOf(b) - 10; i < art.ArticleContent.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @art.ArticleContent[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                        else if( art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains( b ) ) 
                                        {
                                            <span>
                                                @if( art.ArticleNo.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < art.ArticleNo.IndexOf(b) ; i++)
                                                    {
                                                        @art.ArticleNo[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = art.ArticleNo.IndexOf(b) - 10; i < art.ArticleNo.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @art.ArticleNo[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                    }
                                }
                            </a>
                        }
                    }
                }
            }
        </tbody>
    </table>
}
else if (a.ToUpper() == "L" && (b != "" && b != null))
{ 
    <table class="table">
        <thead>
            <tr>
                <th>法規列表</th>
            </tr>
        </thead>
        <tbody>
            <h3>立法法規</h3>
            @if( !b.Contains( ' ' ) ) 
            {
                @foreach (var lawl in ll)
                {
                    @if( lawl.LawName.Contains( b ) || lawl.LawLevel.Contains( b ) || lawl.LawHistories.Contains( b ) || (lawl.LawHasEngVersion == "Y" && lawl.EngLawName.Contains( b ) ) || ( lawl.LawForeword != "" && lawl.LawForeword != null && lawl.LawForeword.Contains(b) ) ) 
                    {
                        <tr>
                            <td>
                                <a href="@lawl.LawURL" target="_self">
                                    @if( lawl.LawName.Contains( b ) ) 
                                    {
                                        <span><span class="abandoned">@lawl.LawAbandonNote</span>@lawl.LawName.Split(b)[0]<span class="matched">@b</span>@lawl.LawName.Split(b)[1]</span>
                                    }
                                    else if ((lawl.LawHasEngVersion == "Y" && lawl.EngLawName.Contains(b)))
                                    {
                                        <span><span class="abandoned">@lawl.LawAbandonNote</span>@lawl.LawName.Split(b)[0]<span class="matched">@b</span>@lawl.LawName.Split(b)[1]</span>
                                        <small><span>@lawl.EngLawName.Split(b)[0]<span class="matched">@b</span>@lawl.EngLawName.Split(b)[1]</span></small>
                                    }
                                    else 
                                    {
                                        <span><span class="abandoned">@lawl.LawAbandonNote</span>@lawl.LawName</span>
                                    }
                                    @if (lawl.LawName.Contains(b)){}else 
                                    if (lawl.LawLevel.Contains(b))
                                    {
                                        <small><span>位階：@lawl.LawLevel.Split( b )[0]<span class="matched">@b</span>@lawl.LawLevel.Split( b )[1]</span></small>
                                    }
                                    else if (lawl.LawHistories.Contains(b))
                                    {
                                        @for (int i = 0; i < lawl.LawHistories.Split('.').Length ; i ++ ) 
                                        {
                                            @if( lawl.LawHistories.Split( '.' )[i].Contains( b ) ) 
                                            {
                                                <span>…@lawl.LawHistories.Split('.')[i].Split(b)[0]<span class="matched">@b</span>@lawl.LawHistories.Split('.')[i].Split( b )[1]…</span>
                                            }
                                        }
                                    }
                                    else if ((lawl.LawForeword != "" && lawl.LawForeword != null && lawl.LawForeword.Contains(b)) ) 
                                    {
                                        <span>
                                            @if( lawl.LawForeword.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < lawl.LawForeword.IndexOf(b) ; i++)
                                                {
                                                    @lawl.LawForeword[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = lawl.LawForeword.IndexOf(b) - 10; i < lawl.LawForeword.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @lawl.LawForeword[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                </a>
                            </td>
                        </tr>
                    }
                    else 
                    {
                        bool AttcontainsB = false ; 
                        bool ArtcontainsB = false ; 
                        @foreach (var att in lawl.LawAttachements)
                        {
                            @if (att.FileName.Contains(b))
                            {
                                AttcontainsB = true ; 
                            }
                        }
                        @foreach (var art in lawl.LawArticles)
                        {
                            @if (art.ArticleContent.Contains(b) || (art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains(b)))
                            {
                                ArtcontainsB = true ; 
                            }
                        }
                        <a href="@lawl.LawURL" target="_self">
                            @if( ArtcontainsB || AttcontainsB ) 
                            {
                                <span><span class="abandoned">@lawl.LawAbandonNote</span>@lawl.LawName</span>
                            }
                            @if( AttcontainsB ) 
                            {
                                @foreach( var att in lawl.LawAttachements ) 
                                {
                                    @if( att.FileName.Contains( b ) ) 
                                    {
                                        <small><span>附件：@att.FileName.Split( b )[0]<span class="matched">@b</span>@att.FileName.Split( b )[1]</span></small>
                                    }
                                }
                            }
                            else if( ArtcontainsB ) 
                            {
                                @foreach( var art in lawl.LawArticles ) 
                                {
                                    @if( art.ArticleContent.Contains( b ) )
                                    {
                                        <span>
                                            @if( art.ArticleContent.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < art.ArticleContent.IndexOf(b) ; i++)
                                                {
                                                    @art.ArticleContent[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = art.ArticleContent.IndexOf(b) - 10; i < art.ArticleContent.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @art.ArticleContent[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                    else if( art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains( b ) ) 
                                    {
                                        <span>
                                            @if( art.ArticleNo.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < art.ArticleNo.IndexOf(b) ; i++)
                                                {
                                                    @art.ArticleNo[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = art.ArticleNo.IndexOf(b) - 10; i < art.ArticleNo.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @art.ArticleNo[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                }
                            }
                        </a>
                    }
                }
            }
            else 
            {
                @foreach( var b in b.Split( ' ' ) ) 
                {
                    @foreach( var lawl in ll ) 
                    {
                        @if( lawl.LawName.Contains( b ) || lawl.LawLevel.Contains( b ) || lawl.LawHistories.Contains( b ) || (lawl.LawHasEngVersion == "Y" && lawl.EngLawName.Contains( b ) ) || ( lawl.LawForeword != "" && lawl.LawForeword != null && lawl.LawForeword.Contains(b) ) ) 
                        {
                            <tr>
                                <td>
                                    <a href="@lawl.LawURL" target="_self">
                                        @if( lawl.LawName.Contains( b ) ) 
                                        {
                                            <span><span class="abandoned">@lawl.LawAbandonNote</span>@lawl.LawName.Split(b)[0]<span class="matched">@b</span>@lawl.LawName.Split(b)[1]</span>
                                        }
                                        else if ((lawl.LawHasEngVersion == "Y" && lawl.EngLawName.Contains(b)))
                                        {
                                            <span><span class="abandoned">@lawl.LawAbandonNote</span>@lawl.LawName.Split(b)[0]<span class="matched">@b</span>@lawl.LawName.Split(b)[1]</span>
                                            <small><span>@lawl.EngLawName.Split(b)[0]<span class="matched">@b</span>@lawl.EngLawName.Split(b)[1]</span></small>
                                        }
                                        else 
                                        {
                                            <span><span class="abandoned">@lawl.LawAbandonNote</span>@lawl.LawName</span>
                                        }
                                        @if (lawl.LawName.Contains(b)){}else 
                                        if (lawl.LawLevel.Contains(b))
                                        {
                                            <small><span>位階：@lawl.LawLevel.Split( b )[0]<span class="matched">@b</span>@lawl.LawLevel.Split( b )[1]</span></small>
                                        }
                                        else if (lawl.LawHistories.Contains(b))
                                        {
                                            @for (int i = 0; i < lawl.LawHistories.Split('.').Length ; i ++ ) 
                                            {
                                                @if( lawl.LawHistories.Split( '.' )[i].Contains( b ) ) 
                                                {
                                                    <span>…@lawl.LawHistories.Split('.')[i].Split(b)[0]<span class="matched">@b</span>@lawl.LawHistories.Split('.')[i].Split( b )[1]…</span>
                                                }
                                            }
                                        }
                                        else if ((lawl.LawForeword != "" && lawl.LawForeword != null && lawl.LawForeword.Contains(b)) ) 
                                        {
                                            <span>
                                                @if( lawl.LawForeword.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < lawl.LawForeword.IndexOf(b) ; i++)
                                                    {
                                                        @lawl.LawForeword[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = lawl.LawForeword.IndexOf(b) - 10; i < lawl.LawForeword.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @lawl.LawForeword[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                    </a>
                                </td>
                            </tr>
                        }
                        else 
                        {
                            bool AttcontainsB = false ; 
                            bool ArtcontainsB = false ; 
                            @if( lawl.LawAttachements.Length != 0 ) 
                            {
                                @foreach (var att in lawl.LawAttachements)
                                {
                                    @if (att.FileName.Contains(b))
                                    {
                                        AttcontainsB = true ; 
                                    }
                                }
                            }
                            @foreach (var art in lawl.LawArticles)
                            {
                                @if (art.ArticleContent.Contains(b) || (art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains(b)))
                                {
                                    ArtcontainsB = true ; 
                                }
                            }
                            <a href="@lawl.LawURL" target="_self">
                                @if( ArtcontainsB || AttcontainsB ) 
                                {
                                    <span><span class="abandoned">@lawl.LawAbandonNote</span>@lawl.LawName</span>
                                }
                                @if( AttcontainsB ) 
                                {
                                    @foreach( var att in lawl.LawAttachements ) 
                                    {
                                        @if( att.FileName.Contains( b ) ) 
                                        {
                                            <small><span>附件：@att.FileName.Split( b )[0]<span class="matched">@b</span>@att.FileName.Split( b )[1]</span></small>
                                        }
                                    }
                                }
                                else if( ArtcontainsB ) 
                                {
                                    @foreach( var art in lawl.LawArticles ) 
                                    {
                                        @if( art.ArticleContent.Contains( b ) )
                                        {
                                            <span>
                                                @if( art.ArticleContent.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < art.ArticleContent.IndexOf(b) ; i++)
                                                    {
                                                        @art.ArticleContent[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = art.ArticleContent.IndexOf(b) - 10; i < art.ArticleContent.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @art.ArticleContent[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                        else if( art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains( b ) ) 
                                        {
                                            <span>
                                                @if( art.ArticleNo.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < art.ArticleNo.IndexOf(b) ; i++)
                                                    {
                                                        @art.ArticleNo[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = art.ArticleNo.IndexOf(b) - 10; i < art.ArticleNo.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @art.ArticleNo[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                    }
                                }
                            </a>
                        }
                    }
                }
            }
        </tbody>
    </table>
}
else if (a.ToUpper() == "J" && (b != "" && b != null))
{ 
    <table class="table">
        <thead>
            <tr>
                <th>法規列表</th>
            </tr>
        </thead>
        <tbody>
            <h3>司法法規</h3>
            @if( !b.Contains( ' ' ) ) 
            {
                @foreach (var lawj in lj)
                {
                    @if( lawj.LawName.Contains( b ) || lawj.LawLevel.Contains( b ) || lawj.LawHistories.Contains( b ) || (lawj.LawHasEngVersion == "Y" && lawj.EngLawName.Contains( b ) ) || ( lawj.LawForeword != "" && lawj.LawForeword != null && lawj.LawForeword.Contains(b) ) ) 
                    {
                        <tr>
                            <td>
                                <a href="@lawj.LawURL" target="_self">
                                    @if( lawj.LawName.Contains( b ) ) 
                                    {
                                        <span><span class="abandoned">@lawj.LawAbandonNote</span>@lawj.LawName.Split(b)[0]<span class="matched">@b</span>@lawj.LawName.Split(b)[1]</span>
                                    }
                                    else if ((lawj.LawHasEngVersion == "Y" && lawj.EngLawName.Contains(b)))
                                    {
                                        <span><span class="abandoned">@lawj.LawAbandonNote</span>@lawj.LawName.Split(b)[0]<span class="matched">@b</span>@lawj.LawName.Split(b)[1]</span>
                                        <small><span>@lawj.EngLawName.Split(b)[0]<span class="matched">@b</span>@lawj.EngLawName.Split(b)[1]</span></small>
                                    }
                                    else 
                                    {
                                        <span><span class="abandoned">@lawj.LawAbandonNote</span>@lawj.LawName</span>
                                    }
                                    @if (lawj.LawName.Contains(b)){}else 
                                    if (lawj.LawLevel.Contains(b))
                                    {
                                        <small><span>位階：@lawj.LawLevel.Split( b )[0]<span class="matched">@b</span>@lawj.LawLevel.Split( b )[1]</span></small>
                                    }
                                    else if (lawj.LawHistories.Contains(b))
                                    {
                                        @for (int i = 0; i < lawj.LawHistories.Split('.').Length ; i ++ ) 
                                        {
                                            @if( lawj.LawHistories.Split( '.' )[i].Contains( b ) ) 
                                            {
                                                <span>…@lawj.LawHistories.Split('.')[i].Split(b)[0]<span class="matched">@b</span>@lawj.LawHistories.Split('.')[i].Split( b )[1]…</span>
                                            }
                                        }
                                    }
                                    else if ((lawj.LawForeword != "" && lawj.LawForeword != null && lawj.LawForeword.Contains(b)) ) 
                                    {
                                        <span>
                                            @if( lawj.LawForeword.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < lawj.LawForeword.IndexOf(b) ; i++)
                                                {
                                                    @lawj.LawForeword[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = lawj.LawForeword.IndexOf(b) - 10; i < lawj.LawForeword.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @lawj.LawForeword[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                </a>
                            </td>
                        </tr>
                    }
                    else 
                    {
                        bool AttcontainsB = false ; 
                        bool ArtcontainsB = false ; 
                        @foreach (var att in lawj.LawAttachements)
                        {
                            @if (att.FileName.Contains(b))
                            {
                                AttcontainsB = true ; 
                            }
                        }
                        @foreach (var art in lawj.LawArticles)
                        {
                            @if (art.ArticleContent.Contains(b) || (art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains(b)))
                            {
                                ArtcontainsB = true ; 
                            }
                        }
                        <a href="@lawj.LawURL" target="_self">
                            @if( ArtcontainsB || AttcontainsB ) 
                            {
                                <span><span class="abandoned">@lawj.LawAbandonNote</span>@lawj.LawName</span>
                            }
                            @if( AttcontainsB ) 
                            {
                                @foreach( var att in lawj.LawAttachements ) 
                                {
                                    @if( att.FileName.Contains( b ) ) 
                                    {
                                        <small><span>附件：@att.FileName.Split( b )[0]<span class="matched">@b</span>@att.FileName.Split( b )[1]</span></small>
                                    }
                                }
                            }
                            else if( ArtcontainsB ) 
                            {
                                @foreach( var art in lawj.LawArticles ) 
                                {
                                    @if( art.ArticleContent.Contains( b ) )
                                    {
                                        <span>
                                            @if( art.ArticleContent.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < art.ArticleContent.IndexOf(b) ; i++)
                                                {
                                                    @art.ArticleContent[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = art.ArticleContent.IndexOf(b) - 10; i < art.ArticleContent.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @art.ArticleContent[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                    else if( art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains( b ) ) 
                                    {
                                        <span>
                                            @if( art.ArticleNo.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < art.ArticleNo.IndexOf(b) ; i++)
                                                {
                                                    @art.ArticleNo[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = art.ArticleNo.IndexOf(b) - 10; i < art.ArticleNo.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @art.ArticleNo[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                }
                            }
                        </a>
                    }
                }
            }
            else 
            {
                @foreach( var b in b.Split( ' ' ) ) 
                {
                    @foreach( var lawj in lj ) 
                    {
                        @if( lawj.LawName.Contains( b ) || lawj.LawLevel.Contains( b ) || lawj.LawHistories.Contains( b ) || (lawj.LawHasEngVersion == "Y" && lawj.EngLawName.Contains( b ) ) || ( lawj.LawForeword != "" && lawj.LawForeword != null && lawj.LawForeword.Contains(b) ) ) 
                        {
                            <tr>
                                <td>
                                    <a href="@lawj.LawURL" target="_self">
                                        @if( lawj.LawName.Contains( b ) ) 
                                        {
                                            <span><span class="abandoned">@lawj.LawAbandonNote</span>@lawj.LawName.Split(b)[0]<span class="matched">@b</span>@lawj.LawName.Split(b)[1]</span>
                                        }
                                        else if ((lawj.LawHasEngVersion == "Y" && lawj.EngLawName.Contains(b)))
                                        {
                                            <span><span class="abandoned">@lawj.LawAbandonNote</span>@lawj.LawName.Split(b)[0]<span class="matched">@b</span>@lawj.LawName.Split(b)[1]</span>
                                            <small><span>@lawj.EngLawName.Split(b)[0]<span class="matched">@b</span>@lawj.EngLawName.Split(b)[1]</span></small>
                                        }
                                        else 
                                        {
                                            <span><span class="abandoned">@lawj.LawAbandonNote</span>@lawj.LawName</span>
                                        }
                                        @if (lawj.LawName.Contains(b)){}else 
                                        if (lawj.LawLevel.Contains(b))
                                        {
                                            <small><span>位階：@lawj.LawLevel.Split( b )[0]<span class="matched">@b</span>@lawj.LawLevel.Split( b )[1]</span></small>
                                        }
                                        else if (lawj.LawHistories.Contains(b))
                                        {
                                            @for (int i = 0; i < lawj.LawHistories.Split('.').Length ; i ++ ) 
                                            {
                                                @if( lawj.LawHistories.Split( '.' )[i].Contains( b ) ) 
                                                {
                                                    <span>…@lawj.LawHistories.Split('.')[i].Split(b)[0]<span class="matched">@b</span>@lawj.LawHistories.Split('.')[i].Split( b )[1]…</span>
                                                }
                                            }
                                        }
                                        else if ((lawj.LawForeword != "" && lawj.LawForeword != null && lawj.LawForeword.Contains(b)) ) 
                                        {
                                            <span>
                                                @if( lawj.LawForeword.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < lawj.LawForeword.IndexOf(b) ; i++)
                                                    {
                                                        @lawj.LawForeword[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = lawj.LawForeword.IndexOf(b) - 10; i < lawj.LawForeword.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @lawj.LawForeword[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                    </a>
                                </td>
                            </tr>
                        }
                        else 
                        {
                            bool AttcontainsB = false ; 
                            bool ArtcontainsB = false ; 
                            @if( lawj.LawAttachements.Length != 0 ) 
                            {
                                @foreach (var att in lawj.LawAttachements)
                                {
                                    @if (att.FileName.Contains(b))
                                    {
                                        AttcontainsB = true ; 
                                    }
                                }
                            }
                            @foreach (var art in lawj.LawArticles)
                            {
                                @if (art.ArticleContent.Contains(b) || (art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains(b)))
                                {
                                    ArtcontainsB = true ; 
                                }
                            }
                            <a href="@lawj.LawURL" target="_self">
                                @if( ArtcontainsB || AttcontainsB ) 
                                {
                                    <span><span class="abandoned">@lawj.LawAbandonNote</span>@lawj.LawName</span>
                                }
                                @if( AttcontainsB ) 
                                {
                                    @foreach( var att in lawj.LawAttachements ) 
                                    {
                                        @if( att.FileName.Contains( b ) ) 
                                        {
                                            <small><span>附件：@att.FileName.Split( b )[0]<span class="matched">@b</span>@att.FileName.Split( b )[1]</span></small>
                                        }
                                    }
                                }
                                else if( ArtcontainsB ) 
                                {
                                    @foreach( var art in lawj.LawArticles ) 
                                    {
                                        @if( art.ArticleContent.Contains( b ) )
                                        {
                                            <span>
                                                @if( art.ArticleContent.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < art.ArticleContent.IndexOf(b) ; i++)
                                                    {
                                                        @art.ArticleContent[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = art.ArticleContent.IndexOf(b) - 10; i < art.ArticleContent.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @art.ArticleContent[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                        else if( art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains( b ) ) 
                                        {
                                            <span>
                                                @if( art.ArticleNo.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < art.ArticleNo.IndexOf(b) ; i++)
                                                    {
                                                        @art.ArticleNo[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = art.ArticleNo.IndexOf(b) - 10; i < art.ArticleNo.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @art.ArticleNo[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                    }
                                }
                            </a>
                        }
                    }
                }
            }
        </tbody>
    </table>
}
else if (a.ToUpper() == "EL" && (b != "" && b != null))
{
    <table class="table">
        <thead>
            <tr>
                <th>法規列表</th>
            </tr>
        </thead>
        <tbody>
            <h3>選舉法規</h3>
            @if( !b.Contains( ' ' ) ) 
            {
                @foreach (var lawel in lel)
                {
                    @if( lawel.LawName.Contains( b ) || lawel.LawLevel.Contains( b ) || lawel.LawHistories.Contains( b ) || (lawel.LawHasEngVersion == "Y" && lawel.EngLawName.Contains( b ) ) || ( lawel.LawForeword != "" && lawel.LawForeword != null && lawel.LawForeword.Contains(b) ) ) 
                    {
                        <tr>
                            <td>
                                <a href="@lawel.LawURL" target="_self">
                                    @if( lawel.LawName.Contains( b ) ) 
                                    {
                                        <span><span class="abandoned">@lawel.LawAbandonNote</span>@lawel.LawName.Split(b)[0]<span class="matched">@b</span>@lawel.LawName.Split(b)[1]</span>
                                    }
                                    else if ((lawel.LawHasEngVersion == "Y" && lawel.EngLawName.Contains(b)))
                                    {
                                        <span><span class="abandoned">@lawel.LawAbandonNote</span>@lawel.LawName.Split(b)[0]<span class="matched">@b</span>@lawel.LawName.Split(b)[1]</span>
                                        <small><span>@lawel.EngLawName.Split(b)[0]<span class="matched">@b</span>@lawel.EngLawName.Split(b)[1]</span></small>
                                    }
                                    else 
                                    {
                                        <span><span class="abandoned">@lawel.LawAbandonNote</span>@lawel.LawName</span>
                                    }
                                    @if (lawel.LawName.Contains(b)){}else 
                                    if (lawel.LawLevel.Contains(b))
                                    {
                                        <small><span>位階：@lawel.LawLevel.Split( b )[0]<span class="matched">@b</span>@lawel.LawLevel.Split( b )[1]</span></small>
                                    }
                                    else if (lawel.LawHistories.Contains(b))
                                    {
                                        @for (int i = 0; i < lawel.LawHistories.Split('.').Length ; i ++ ) 
                                        {
                                            @if( lawel.LawHistories.Split( '.' )[i].Contains( b ) ) 
                                            {
                                                <span>…@lawel.LawHistories.Split('.')[i].Split(b)[0]<span class="matched">@b</span>@lawel.LawHistories.Split('.')[i].Split( b )[1]…</span>
                                            }
                                        }
                                    }
                                    else if ((lawel.LawForeword != "" && lawel.LawForeword != null && lawel.LawForeword.Contains(b)) ) 
                                    {
                                        <span>
                                            @if( lawel.LawForeword.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < lawel.LawForeword.IndexOf(b) ; i++)
                                                {
                                                    @lawel.LawForeword[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = lawel.LawForeword.IndexOf(b) - 10; i < lawel.LawForeword.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @lawel.LawForeword[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                </a>
                            </td>
                        </tr>
                    }
                    else 
                    {
                        bool AttcontainsB = false ; 
                        bool ArtcontainsB = false ; 
                        @foreach (var att in lawel.LawAttachements)
                        {
                            @if (att.FileName.Contains(b))
                            {
                                AttcontainsB = true ; 
                            }
                        }
                        @foreach (var art in lawel.LawArticles)
                        {
                            @if (art.ArticleContent.Contains(b) || (art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains(b)))
                            {
                                ArtcontainsB = true ; 
                            }
                        }
                        <a href="@lawel.LawURL" target="_self">
                            @if( ArtcontainsB || AttcontainsB ) 
                            {
                                <span><span class="abandoned">@lawel.LawAbandonNote</span>@lawel.LawName</span>
                            }
                            @if( AttcontainsB ) 
                            {
                                @foreach( var att in lawel.LawAttachements ) 
                                {
                                    @if( att.FileName.Contains( b ) ) 
                                    {
                                        <small><span>附件：@att.FileName.Split( b )[0]<span class="matched">@b</span>@att.FileName.Split( b )[1]</span></small>
                                    }
                                }
                            }
                            else if( ArtcontainsB ) 
                            {
                                @foreach( var art in lawel.LawArticles ) 
                                {
                                    @if( art.ArticleContent.Contains( b ) )
                                    {
                                        <span>
                                            @if( art.ArticleContent.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < art.ArticleContent.IndexOf(b) ; i++)
                                                {
                                                    @art.ArticleContent[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = art.ArticleContent.IndexOf(b) - 10; i < art.ArticleContent.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @art.ArticleContent[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                    else if( art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains( b ) ) 
                                    {
                                        <span>
                                            @if( art.ArticleNo.IndexOf(b) < 10 ) 
                                            {
                                                @for (int i = 0 ; i < art.ArticleNo.IndexOf(b) ; i++)
                                                {
                                                    @art.ArticleNo[i]
                                                }
                                            }
                                            else 
                                            {
                                                <span>…</span>
                                                @for (int i = art.ArticleNo.IndexOf(b) - 10; i < art.ArticleNo.IndexOf(b) ; i ++ ) 
                                                { 
                                                    @art.ArticleNo[i]
                                                }
                                            }
                                            <span class="matched">@b</span>
                                        …</span>
                                    }
                                }
                            }
                        </a>
                    }
                }
            }
            else 
            {
                @foreach( var b in b.Split( ' ' ) ) 
                {
                    @foreach( var lawel in lel ) 
                    {
                        @if( lawel.LawName.Contains( b ) || lawel.LawLevel.Contains( b ) || lawel.LawHistories.Contains( b ) || (lawel.LawHasEngVersion == "Y" && lawel.EngLawName.Contains( b ) ) || ( lawel.LawForeword != "" && lawel.LawForeword != null && lawel.LawForeword.Contains(b) ) ) 
                        {
                            <tr>
                                <td>
                                    <a href="@lawel.LawURL" target="_self">
                                        @if( lawel.LawName.Contains( b ) ) 
                                        {
                                            <span><span class="abandoned">@lawel.LawAbandonNote</span>@lawel.LawName.Split(b)[0]<span class="matched">@b</span>@lawel.LawName.Split(b)[1]</span>
                                        }
                                        else if ((lawel.LawHasEngVersion == "Y" && lawel.EngLawName.Contains(b)))
                                        {
                                            <span><span class="abandoned">@lawel.LawAbandonNote</span>@lawel.LawName.Split(b)[0]<span class="matched">@b</span>@lawel.LawName.Split(b)[1]</span>
                                            <small><span>@lawel.EngLawName.Split(b)[0]<span class="matched">@b</span>@lawel.EngLawName.Split(b)[1]</span></small>
                                        }
                                        else 
                                        {
                                            <span><span class="abandoned">@lawel.LawAbandonNote</span>@lawel.LawName</span>
                                        }
                                        @if (lawel.LawName.Contains(b)){}else 
                                        if (lawel.LawLevel.Contains(b))
                                        {
                                            <small><span>位階：@lawel.LawLevel.Split( b )[0]<span class="matched">@b</span>@lawel.LawLevel.Split( b )[1]</span></small>
                                        }
                                        else if (lawel.LawHistories.Contains(b))
                                        {
                                            @for (int i = 0; i < lawel.LawHistories.Split('.').Length ; i ++ ) 
                                            {
                                                @if( lawel.LawHistories.Split( '.' )[i].Contains( b ) ) 
                                                {
                                                    <span>…@lawel.LawHistories.Split('.')[i].Split(b)[0]<span class="matched">@b</span>@lawel.LawHistories.Split('.')[i].Split( b )[1]…</span>
                                                }
                                            }
                                        }
                                        else if ((lawel.LawForeword != "" && lawel.LawForeword != null && lawel.LawForeword.Contains(b)) ) 
                                        {
                                            <span>
                                                @if( lawel.LawForeword.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < lawel.LawForeword.IndexOf(b) ; i++)
                                                    {
                                                        @lawel.LawForeword[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = lawel.LawForeword.IndexOf(b) - 10; i < lawel.LawForeword.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @lawel.LawForeword[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                    </a>
                                </td>
                            </tr>
                        }
                        else 
                        {
                            bool AttcontainsB = false ; 
                            bool ArtcontainsB = false ; 
                            @if( lawel.LawAttachements.Length != 0 ) 
                            {
                                @foreach (var att in lawel.LawAttachements)
                                {
                                    @if (att.FileName.Contains(b))
                                    {
                                        AttcontainsB = true ; 
                                    }
                                }
                            }
                            @foreach (var art in lawel.LawArticles)
                            {
                                @if (art.ArticleContent.Contains(b) || (art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains(b)))
                                {
                                    ArtcontainsB = true ; 
                                }
                            }
                            <a href="@lawel.LawURL" target="_self">
                                @if( ArtcontainsB || AttcontainsB ) 
                                {
                                    <span><span class="abandoned">@lawel.LawAbandonNote</span>@lawel.LawName</span>
                                }
                                @if( AttcontainsB ) 
                                {
                                    @foreach( var att in lawel.LawAttachements ) 
                                    {
                                        @if( att.FileName.Contains( b ) ) 
                                        {
                                            <small><span>附件：@att.FileName.Split( b )[0]<span class="matched">@b</span>@att.FileName.Split( b )[1]</span></small>
                                        }
                                    }
                                }
                                else if( ArtcontainsB ) 
                                {
                                    @foreach( var art in lawel.LawArticles ) 
                                    {
                                        @if( art.ArticleContent.Contains( b ) )
                                        {
                                            <span>
                                                @if( art.ArticleContent.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < art.ArticleContent.IndexOf(b) ; i++)
                                                    {
                                                        @art.ArticleContent[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = art.ArticleContent.IndexOf(b) - 10; i < art.ArticleContent.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @art.ArticleContent[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                        else if( art.ArticleNo != "" && art.ArticleNo != null && art.ArticleNo.Contains( b ) ) 
                                        {
                                            <span>
                                                @if( art.ArticleNo.IndexOf(b) < 10 ) 
                                                {
                                                    @for (int i = 0 ; i < art.ArticleNo.IndexOf(b) ; i++)
                                                    {
                                                        @art.ArticleNo[i]
                                                    }
                                                }
                                                else 
                                                {
                                                    <span>…</span>
                                                    @for (int i = art.ArticleNo.IndexOf(b) - 10; i < art.ArticleNo.IndexOf(b) ; i ++ ) 
                                                    { 
                                                        @art.ArticleNo[i]
                                                    }
                                                }
                                                <span class="matched">@b</span>
                                            …</span>
                                        }
                                    }
                                }
                            </a>
                        }
                    }
                }
            }
        </tbody>
    </table>
}
<a href="">回首頁</a>

@code {
    private LawRoot[]? laws;
    public string a;
    public string b;
    private int ic = 0;
    private int iex = 0;
    private int il = 0;
    private int ij = 0;
    private int iel = 0;
    public List<L> lc = new List<L>();
    public List<L> lex = new List<L>();
    public List<L> ll = new List<L>();
    public List<L> lj = new List<L>();
    public List<L> lel = new List<L>();
    protected override void OnInitialized()
    {
        var uri = N.ToAbsoluteUri(N.Uri);
        var queryStrings = QueryHelpers.ParseQuery(uri.Query);
        if (queryStrings.TryGetValue("c", out var aaa))
        {
            a = aaa;
        }
        if (queryStrings.TryGetValue("q", out var bbb))
        {
            b = bbb;
        }
    }

    protected override async Task OnInitializedAsync()
    {
        laws = await Http.GetFromJsonAsync<LawRoot[]>("json/laws.json");
        for( int i = 0 ; i < laws[0].Laws.Length ; i++ )
        {
            if (laws[0].Laws[i].LawCategory.Contains("中央法規"))
            { 
                lc.Add(laws[0].Laws[i]); 
                ic ++; 
            }
            else if (laws[0].Laws[i].LawCategory.Contains("選舉法規"))
            {
                lel.Add(laws[0].Laws[i]);
                iel++;
            }
            else if (laws[0].Laws[i].LawCategory.Contains("行政法規"))
            {
                lex.Add(laws[0].Laws[i]);
                iex++;
            }
            else if (laws[0].Laws[i].LawCategory.Contains("立法法規"))
            {
                ll.Add(laws[0].Laws[i]);
                il++;
            }
            else if (laws[0].Laws[i].LawCategory.Contains("司法法規"))
            {
                lj.Add(laws[0].Laws[i]);
                ij++;
            }
        }
    }

    public class LawRoot
    {
        public string UpdateDate { get; set; }
        public L[] Laws { get; set; }
    }
    public class L 
    {
        public string LawLevel { get; set; }
        public string LawName { get; set; }
        public string LawURL { get; set; }
        public string LawCategory { get; set; }
        public string LawModifiedDate { get; set; }
        public string? LawEffectiveDate { get; set; }
        public string? LawEffectiveNote { get; set; }
        public string? LawAbandonNote { get; set; }
        public string LawHasEngVersion { get; set; }
        public string? EngLawName { get; set; }
        public Attachements[]? LawAttachements { get; set; }
        public string LawHistories { get; set; }
        public string? LawForeword { get; set; }
        public A[] LawArticles { get; set; }
    }
    public class A 
    {
        public string ArticleType { get; set; }
        public string? ArticleNo { get; set; }
        public string ArticleContent { get; set; }
    }
    public class Attachements 
    {
        public string FileName { get; set; }
        public string FileURL { get; set; }
    }
}
